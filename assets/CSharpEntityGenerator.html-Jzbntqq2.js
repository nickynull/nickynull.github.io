import{_ as T,e as i,o as D,c as E,a as s,f as a,g as r,d as O}from"./app-aRFa_rIQ.js";const U=s("h1",{id:"c-实体对象生成器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#c-实体对象生成器","aria-hidden":"true"},"#"),O(" C#实体对象生成器")],-1),N={class:"line-block"},R={class:"line-block"},S=s("span",{class:"line-label"},"实体类名",-1),M={class:"line-block"},G=s("span",{class:"line-label"},"实体描述",-1),B={class:"line-block"},L=s("span",{class:"line-label"},"实体表名",-1),z={class:"line-block"},A={class:"line-block"},I={__name:"CSharpEntityGenerator.html",setup(Q){const v=i(""),m=i(""),w=i(""),c=i(""),y=i(""),f=i(""),g=i(""),b=i("");function V(e,t){return e&&e.length>t?e[t]:""}function P(){if(!c.value)return;let e=[],t=c.value.split(`
`),l=y.value.split(`
`),C=f.value.split(`
`);const d=v.value||"TempObject",$=m.value,o=w.value;e.push("/// <summary>"),e.push(`/// ${$}`),e.push("/// </summary>"),e.push(`[Label("${$}")]`),e.push("[RootEntity, Serializable]"),e.push(`public class ${d} : DataEntity`),e.push("{");for(let n=0;n<t.length;n++){const u=V(t,n),p=V(l,n),h=V(C,n)||"string";e.push(`	#region ${p} ${u}`),e.push("	/// <summary>"),e.push(`	/// ${p}`),e.push("	/// </summary>"),e.push(`	[Label("${p}")]`),e.push(`	public static readonly Property<${h}> ${u}Property = P<${d}>.Register(e => e.${u});`),e.push("	/// <summary>"),e.push(`	/// ${p}`),e.push("	/// </summary>"),e.push(`	public ${h} ${u}`),e.push("	{"),e.push(`		get { return this.GetProperty(${u}Property); }`),e.push(`		set { this.SetProperty(${u}Property, value); }`),e.push("	}"),e.push("	#endregion"),e.push("")}return e.splice(e.length-1,1),e.push("}"),e.push(""),e.push("/// <summary>"),e.push(`/// ${$} 实体配置`),e.push("/// </summary>"),e.push(`internal class ${d}Config : EntityConfig<${d}>`),e.push("{"),e.push("	/// <summary>"),e.push("	/// 元数据配置"),e.push("	/// </summary>"),e.push("	protected override void ConfigMeta()"),e.push("	{"),e.push(`		Meta.MapTable("${o}").MapAllProperties();`),e.push("	}"),e.push("}"),e.join(`
`)}function k(){if(!c.value)return;let e=[],t=c.value.split(`
`);y.value.split(`
`),f.value.split(`
`);const l=["	protected override void ConfigView() {}","	protected override void ConfigListView()","	protected override void ConfigDetailsView()","	protected override void ConfigQueryView()","	protected override void ConfigSelectionView() {}","	protected override void ConfigImportView() {}","	protected void ConfigCustomizedView()","	protected void ConfigReadonlyView()"],C=["默认视图","列表视图","表单视图","查询视图","选择视图","导入视图","客制化视图","只读视图"],d=v.value||"TempObject",$=m.value;e.push("/// <summary>"),e.push(`/// ${$} 视图`),e.push("/// </summary>"),e.push(`class ${d}ViewConfig : WebViewConfig<${d}>`),e.push("{");for(let o=0;o<l.length;o++){const n=l[o],u=C[o];if(e.push("	/// <summary>"),e.push(`	/// ${u}`),e.push("	/// </summary>"),e.push(n),n.indexOf("{}")==-1){e.push("	{"),o==6&&(e.push("		using (View.OrderProperties())"),e.push("		{"));for(let p=0;p<t.length;p++){const h=V(t,p);o==6?e.push(`			View.Property(p => p.${h});`):o==7?e.push(`		View.Property(p => p.${h}).Readonly();`):e.push(`		View.Property(p => p.${h});`)}o==6&&e.push("		}"),e.push("	}")}e.push("")}return e.splice(e.length-1,1),e.push("}"),e.join(`
`)}function _(){g.value=P(),b.value=k(),window.$alert("运行完毕")}function x(e,t){window.$copy(e,t)}function j(){v.value="",m.value="",w.value="",c.value="",y.value="",f.value="",g.value="",b.value="",window.$alert("清空完毕")}return(e,t)=>(D(),E("div",null,[U,s("div",N,[s("button",{onClick:_},"运行"),s("button",{onClick:t[0]||(t[0]=l=>x(g.value,"实体"))},"复制实体"),s("button",{onClick:t[1]||(t[1]=l=>x(b.value,"视图"))},"复制视图"),s("button",{onClick:j},"清空")]),s("div",R,[S,a(s("input",{class:"line-content","onUpdate:modelValue":t[2]||(t[2]=l=>v.value=l)},null,512),[[r,v.value]])]),s("div",M,[G,a(s("input",{class:"line-content","onUpdate:modelValue":t[3]||(t[3]=l=>m.value=l)},null,512),[[r,m.value]])]),s("div",B,[L,a(s("input",{class:"line-content","onUpdate:modelValue":t[4]||(t[4]=l=>w.value=l)},null,512),[[r,w.value]])]),s("div",z,[a(s("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>c.value=l),class:"text line-huge",placeholder:"属性名，多个时换行"},null,512),[[r,c.value]]),a(s("textarea",{"onUpdate:modelValue":t[6]||(t[6]=l=>y.value=l),class:"text line-huge",placeholder:"属性描述，多个时换行"},null,512),[[r,y.value]]),a(s("textarea",{"onUpdate:modelValue":t[7]||(t[7]=l=>f.value=l),class:"text line-huge",placeholder:"属性类型，多个时换行，不输入时默认string"},null,512),[[r,f.value]])]),s("div",A,[a(s("textarea",{"onUpdate:modelValue":t[8]||(t[8]=l=>g.value=l),class:"text line-huge",placeholder:"实体",readonly:"",style:{height:"25vh"}},null,512),[[r,g.value]]),a(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=l=>b.value=l),class:"text line-huge",placeholder:"视图",readonly:"",style:{height:"25vh"}},null,512),[[r,b.value]])])]))}},q=T(I,[["__file","CSharpEntityGenerator.html.vue"]]);export{q as default};
