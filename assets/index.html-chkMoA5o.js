import{_ as o,r as i,o as l,c as t,a as n,d as s,b as e,j as c}from"./app-WnoEkLSG.js";const r="/imgs/docker-logo.png",d={},p=n("h1",{id:"docker",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#docker","aria-hidden":"true"},"#"),s(" Docker")],-1),u=n("div",{class:"md-logo"},[n("img",{src:r,alt:"img"})],-1),k=n("blockquote",null,[n("p",null,[n("strong",null,"Docker"),s(" 是开源的应用容器引擎")])],-1),m={href:"https://docker.com",target:"_blank",rel:"noopener noreferrer"},v=n("br",null,null,-1),b={href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"},h=c(`<h2 id="docker-基本概念" tabindex="-1"><a class="header-anchor" href="#docker-基本概念" aria-hidden="true">#</a> Docker 基本概念</h2><ul><li><code>Docker 主机（Host）</code>：安装Docker的主机</li><li><code>Docker 镜像（Image）</code>：容器的模板</li><li><code>Docker 容器（Container）</code>：镜像的实例</li><li><code>Docker 仓库（Repository）</code>：用来保存镜像</li></ul><h2 id="docker-安装" tabindex="-1"><a class="header-anchor" href="#docker-安装" aria-hidden="true">#</a> Docker 安装</h2><blockquote><p>官方自动化脚本</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://get.docker.com <span class="token operator">|</span> <span class="token function">bash</span> <span class="token parameter variable">-s</span> <span class="token function">docker</span> <span class="token parameter variable">--mirror</span> Aliyun
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,5),f={href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"},g=n("br",null,null,-1),_=c(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span>
                docker-client <span class="token punctuation">\\</span>
                docker-client-latest <span class="token punctuation">\\</span>
                docker-common <span class="token punctuation">\\</span>
                docker-latest <span class="token punctuation">\\</span>
                docker-latest-logrotate <span class="token punctuation">\\</span>
                docker-logrotate <span class="token punctuation">\\</span>
                docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>安装</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
<span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>安装是否成功验证</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="dockerfile" tabindex="-1"><a class="header-anchor" href="#dockerfile" aria-hidden="true">#</a> Dockerfile</h2><blockquote><p>Dockerfile 是一个用来构建镜像的文本文件，文本内容包含了一条条构建镜像所需的指令和说明</p></blockquote>`,7),x={href:"https://www.runoob.com/docker/docker-dockerfile.html",target:"_blank",rel:"noopener noreferrer"},D=c(`<h2 id="docker-控制" tabindex="-1"><a class="header-anchor" href="#docker-控制" aria-hidden="true">#</a> Docker 控制</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> version                  <span class="token comment"># 查看 Docker 版本</span>
<span class="token function">sudo</span> systemctl start <span class="token function">docker</span>     <span class="token comment"># 启动</span>
<span class="token function">sudo</span> systemctl status <span class="token function">docker</span>    <span class="token comment"># 查看状态</span>
<span class="token function">sudo</span> systemctl stop <span class="token function">docker</span>      <span class="token comment"># 停止</span>
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>   <span class="token comment"># 重启</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>    <span class="token comment"># 开机启动</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker-镜像操作" tabindex="-1"><a class="header-anchor" href="#docker-镜像操作" aria-hidden="true">#</a> Docker 镜像操作</h2><h3 id="创建镜像" tabindex="-1"><a class="header-anchor" href="#创建镜像" aria-hidden="true">#</a> 创建镜像</h3><blockquote><p>根据当前目录下的Dockerfile，构建名为image-name的镜像</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> image-name <span class="token punctuation">\\</span>
<span class="token comment"># -f 指定Dockerfile的位置</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他镜像操作" tabindex="-1"><a class="header-anchor" href="#其他镜像操作" aria-hidden="true">#</a> 其他镜像操作</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> search 关键字        <span class="token comment"># 查看 Docker Hub 上，镜像的详细信息</span>
<span class="token function">docker</span> pull 镜像名:tag      <span class="token comment"># 拉取镜像，:tag 表示软件版本，默认 latest</span>
<span class="token function">docker</span> images               <span class="token comment"># 查看本地镜像</span>
<span class="token function">docker</span> inspect 镜像id       <span class="token comment"># 查看镜像元数据，详细信息</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> 镜像id/镜像名:tag  <span class="token comment"># 删除镜像，-f表示强制删除</span>
<span class="token function">docker</span> save <span class="token parameter variable">-o</span> nginx.tar nginx:latest <span class="token comment"># 导出镜像</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker-容器操作" tabindex="-1"><a class="header-anchor" href="#docker-容器操作" aria-hidden="true">#</a> Docker 容器操作</h2><h3 id="运行容器" tabindex="-1"><a class="header-anchor" href="#运行容器" aria-hidden="true">#</a> 运行容器</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># -i 以交互模式运行</span>
<span class="token comment"># -t 分配一个伪终端</span>
<span class="token comment"># -d 后台运行</span>
<span class="token comment"># -p 指定端口映射</span>
<span class="token comment"># -v 指定挂载主机目录到容器目录，:rw读写模式（默认），:ro只读模式</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> 容器名称 <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-it</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-p</span> 主机端口:容器端口 <span class="token punctuation">\\</span>
    <span class="token parameter variable">-v</span> 主机目录:容器目录 <span class="token punctuation">\\</span>
    镜像名称
<span class="token comment"># 例</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> jm-ffmpeg <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-it</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-p</span> 主机端口:容器端口 <span class="token punctuation">\\</span>
    <span class="token parameter variable">-v</span> 主机目录:容器目录 <span class="token punctuation">\\</span>
    镜像名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看正在运行的容器" tabindex="-1"><a class="header-anchor" href="#查看正在运行的容器" aria-hidden="true">#</a> 查看正在运行的容器</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-aq</span> 
    <span class="token comment"># -a 所有容器</span>
    <span class="token comment"># -q 只显示容器id</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="容器控制" tabindex="-1"><a class="header-anchor" href="#容器控制" aria-hidden="true">#</a> 容器控制</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> start 容器id或名称   <span class="token comment"># 启动</span>
<span class="token function">docker</span> restart 容器id或名称 <span class="token comment"># 重启</span>
<span class="token function">docker</span> stop 容器id或名称    <span class="token comment"># 停止</span>
<span class="token function">docker</span> logs 容器id或名称    <span class="token comment"># 获取日志</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> 容器id或名称   <span class="token comment"># 删除，-f表示强制删除</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> 容器id或名称 /bin/bash <span class="token comment"># 进入运行中容器，并开启交互终端</span>
<span class="token comment"># 复制文件</span>
<span class="token function">docker</span> <span class="token function">cp</span> 主机文件路径 容器id或名称:容器文件路径
<span class="token function">docker</span> <span class="token function">cp</span> 容器id或名称:容器文件路径 主机文件路径
<span class="token function">docker</span> inspect 容器id       <span class="token comment"># 获取容器元信息</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>将容器保存为镜像（不推荐使用）</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> commit 容器 镜像名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,17);function q(y,w){const a=i("ExternalLinkIcon");return l(),t("div",null,[p,u,k,n("p",null,[n("a",m,[s("Docker官网 https://docker.com"),e(a)]),v,n("a",b,[s("Docker镜像库 https://hub.docker.com/"),e(a)])]),h,n("blockquote",null,[n("p",null,[n("a",f,[s("Docker官方安装指导(CentOS)"),e(a)]),g,s(" 如果要安装新版本，需要先卸载")])]),_,n("p",null,[n("a",x,[s("Dockerfile 指令详解 | 菜鸟教程"),e(a)])]),D])}const V=o(d,[["render",q],["__file","index.html.vue"]]);export{V as default};
